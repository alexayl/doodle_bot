-- west build: running target run
[1/3] Building native simulator runner, and linking final executable
[2/3] Running utility command for native_runner_executable
[2/3] cd /home/alexayl/projects/doodle_bot/firmware/build && /home/alexayl/projects/doodle_bot/firmware/build/zephyr/zephyr.exe
*** Booting Zephyr OS build v4.2.0-3672-g3acb5f9aca01 ***
Running TESTSUITE navigation_thread
===================================================================
START - test_diagonal_movements
Test: Diagonal movements
Nav thread received G1 command
discretize: r=%.2f, theta=%.2f rad (%.1f deg)
  l_dist=%.2f, r_dist=%.2f
  before clamp: left_vel=-235, right_vel=235
discretize: r=%.2f, theta=%.2f rad (%.1f deg)
  l_dist=%.2f, r_dist=%.2f
  before clamp: left_vel=282, right_vel=282
Nav thread received G1 command
discretize: r=%.2f, theta=%.2f rad (%.1f deg)
  l_dist=%.2f, r_dist=%.2f
  before clamp: left_vel=471, right_vel=-471
discretize: r=%.2f, theta=%.2f rad (%.1f deg)
  l_dist=%.2f, r_dist=%.2f
  before clamp: left_vel=282, right_vel=282
Nav thread received G1 command
discretize: r=%.2f, theta=%.2f rad (%.1f deg)
  l_dist=%.2f, r_dist=%.2f
  before clamp: left_vel=942, right_vel=-942
discretize: r=%.2f, theta=%.2f rad (%.1f deg)
  l_dist=%.2f, r_dist=%.2f
  before clamp: left_vel=282, right_vel=282

=== CSV OUTPUT for diagonal_movements ===
timestamp_ms,left_velocity,right_velocity
0,-235,235
0,282,282
0,471,-471
0,282,282
0,942,-942
0,282,282
=== END CSV ===

 PASS - test_diagonal_movements in 0.330 seconds
===================================================================
START - test_large_movements
Test: Large movements
Nav thread received G1 command
discretize: r=%.2f, theta=%.2f rad (%.1f deg)
  l_dist=%.2f, r_dist=%.2f
  before clamp: left_vel=282, right_vel=282
Nav thread received G1 command
discretize: r=%.2f, theta=%.2f rad (%.1f deg)
  l_dist=%.2f, r_dist=%.2f
  before clamp: left_vel=706, right_vel=-706
discretize: r=%.2f, theta=%.2f rad (%.1f deg)
  l_dist=%.2f, r_dist=%.2f
  before clamp: left_vel=2000, right_vel=2000
Nav thread received G1 command
discretize: r=%.2f, theta=%.2f rad (%.1f deg)
  l_dist=%.2f, r_dist=%.2f
  before clamp: left_vel=-471, right_vel=471
discretize: r=%.2f, theta=%.2f rad (%.1f deg)
  l_dist=%.2f, r_dist=%.2f
  before clamp: left_vel=2000, right_vel=2000
Nav thread received G1 command
discretize: r=%.2f, theta=%.2f rad (%.1f deg)
  l_dist=%.2f, r_dist=%.2f
  before clamp: left_vel=235, right_vel=-235
discretize: r=%.2f, theta=%.2f rad (%.1f deg)
  l_dist=%.2f, r_dist=%.2f
  before clamp: left_vel=2828, right_vel=2828

=== CSV OUTPUT for large_movements ===
timestamp_ms,left_velocity,right_velocity
0,282,282
0,706,-706
0,2000,2000
0,-471,471
0,2000,2000
0,235,-235
0,2828,2828
=== END CSV ===

 PASS - test_large_movements in 0.330 seconds
===================================================================
START - test_small_movements
Test: Small movements (precision test)
Nav thread received G1 command
discretize: r=%.2f, theta=%.2f rad (%.1f deg)
  l_dist=%.2f, r_dist=%.2f
  before clamp: left_vel=2828, right_vel=2828
Nav thread received G1 command
discretize: r=%.2f, theta=%.2f rad (%.1f deg)
  l_dist=%.2f, r_dist=%.2f
  before clamp: left_vel=235, right_vel=-235
discretize: r=%.2f, theta=%.2f rad (%.1f deg)
  l_dist=%.2f, r_dist=%.2f
  before clamp: left_vel=20, right_vel=20
Nav thread received G1 command
discretize: r=%.2f, theta=%.2f rad (%.1f deg)
  l_dist=%.2f, r_dist=%.2f
  before clamp: left_vel=-471, right_vel=471
discretize: r=%.2f, theta=%.2f rad (%.1f deg)
  l_dist=%.2f, r_dist=%.2f
  before clamp: left_vel=20, right_vel=20
Nav thread received G1 command
discretize: r=%.2f, theta=%.2f rad (%.1f deg)
  l_dist=%.2f, r_dist=%.2f
  before clamp: left_vel=471, right_vel=-471

=== CSV OUTPUT for small_movements ===
timestamp_ms,left_velocity,right_velocity
0,2828,2828
0,235,-235
0,20,20
0,-471,471
0,20,20
0,471,-471
=== END CSV ===

 PASS - test_small_movements in 0.330 seconds
===================================================================
START - test_square_path
Test: Square path (4 corners)
Nav thread received G1 command
Nav thread received G1 command
discretize: r=%.2f, theta=%.2f rad (%.1f deg)
  l_dist=%.2f, r_dist=%.2f
  before clamp: left_vel=400, right_vel=400
Nav thread received G1 command
discretize: r=%.2f, theta=%.2f rad (%.1f deg)
  l_dist=%.2f, r_dist=%.2f
  before clamp: left_vel=-471, right_vel=471
discretize: r=%.2f, theta=%.2f rad (%.1f deg)
  l_dist=%.2f, r_dist=%.2f
  before clamp: left_vel=400, right_vel=400
Nav thread received G1 command
discretize: r=%.2f, theta=%.2f rad (%.1f deg)
  l_dist=%.2f, r_dist=%.2f
  before clamp: left_vel=-471, right_vel=471
discretize: r=%.2f, theta=%.2f rad (%.1f deg)
  l_dist=%.2f, r_dist=%.2f
  before clamp: left_vel=400, right_vel=400
Nav thread received G1 command
discretize: r=%.2f, theta=%.2f rad (%.1f deg)
  l_dist=%.2f, r_dist=%.2f
  before clamp: left_vel=-471, right_vel=471
discretize: r=%.2f, theta=%.2f rad (%.1f deg)
  l_dist=%.2f, r_dist=%.2f
  before clamp: left_vel=400, right_vel=400

=== CSV OUTPUT for square_path ===
timestamp_ms,left_velocity,right_velocity
0,400,400
0,-471,471
0,400,400
0,-471,471
0,400,400
0,-471,471
0,400,400
=== END CSV ===

 PASS - test_square_path in 0.440 seconds
===================================================================
START - test_straight_line_movements
Test: Straight line movements (positive and negative)
Nav thread received G1 command
discretize: r=%.2f, theta=%.2f rad (%.1f deg)
  l_dist=%.2f, r_dist=%.2f
  before clamp: left_vel=400, right_vel=400
Nav thread received G1 command
discretize: r=%.2f, theta=%.2f rad (%.1f deg)
  l_dist=%.2f, r_dist=%.2f
  before clamp: left_vel=-471, right_vel=471
discretize: r=%.2f, theta=%.2f rad (%.1f deg)
  l_dist=%.2f, r_dist=%.2f
  before clamp: left_vel=200, right_vel=200
Nav thread received G1 command
discretize: r=%.2f, theta=%.2f rad (%.1f deg)
  l_dist=%.2f, r_dist=%.2f
  before clamp: left_vel=-471, right_vel=471
discretize: r=%.2f, theta=%.2f rad (%.1f deg)
  l_dist=%.2f, r_dist=%.2f
  before clamp: left_vel=200, right_vel=200
Nav thread received G1 command
discretize: r=%.2f, theta=%.2f rad (%.1f deg)
  l_dist=%.2f, r_dist=%.2f
  before clamp: left_vel=-471, right_vel=471
discretize: r=%.2f, theta=%.2f rad (%.1f deg)
  l_dist=%.2f, r_dist=%.2f
  before clamp: left_vel=200, right_vel=200
Nav thread received G1 command
discretize: r=%.2f, theta=%.2f rad (%.1f deg)
  l_dist=%.2f, r_dist=%.2f
  before clamp: left_vel=-471, right_vel=471
discretize: r=%.2f, theta=%.2f rad (%.1f deg)
  l_dist=%.2f, r_dist=%.2f
  before clamp: left_vel=200, right_vel=200

=== CSV OUTPUT for straight_line_movements ===
timestamp_ms,left_velocity,right_velocity
0,400,400
0,-471,471
0,200,200
0,-471,471
0,200,200
0,-471,471
0,200,200
0,-471,471
0,200,200
=== END CSV ===

 PASS - test_straight_line_movements in 0.440 seconds
===================================================================
TESTSUITE navigation_thread succeeded

------ TESTSUITE SUMMARY START ------

SUITE PASS - 100.00% [navigation_thread]: pass = 5, fail = 0, skip = 0, total = 5 duration = 1.870 seconds
 - PASS - [navigation_thread.test_diagonal_movements] duration = 0.330 seconds
 - PASS - [navigation_thread.test_large_movements] duration = 0.330 seconds
 - PASS - [navigation_thread.test_small_movements] duration = 0.330 seconds
 - PASS - [navigation_thread.test_square_path] duration = 0.440 seconds
 - PASS - [navigation_thread.test_straight_line_movements] duration = 0.440 seconds

------ TESTSUITE SUMMARY END ------

===================================================================
PROJECT EXECUTION SUCCESSFUL
