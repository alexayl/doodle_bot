# Copyright (c) 2025 Doodle Bot Project
# SPDX-License-Identifier: Apache-2.0

description: |
  A4988/DRV8825 Stepper Motor Driver
  
  A simple step/direction stepper motor driver for A4988 and DRV8825 controllers.
  These drivers use step pulses for movement, direction pin for rotation direction,
  and enable pin to power the motor.

  Example:
  stepper_left: stepper_left {
      status = "okay";
      compatible = "doodle,a4988-stepper";
      micro-step-res = <16>;
      pwms = <&ledc0 3 20000 0>;           /* PWM for step pulses */
      dir-gpios = <&gpio0 3 GPIO_ACTIVE_HIGH>;
      en-gpios = <&gpio0 4 GPIO_ACTIVE_LOW>;
  };

compatible: "doodle,a4988-stepper"

include:
  - name: stepper-controller.yaml

properties:
  label:
    type: string
    description: Human readable string describing the device.

  pwms:
    required: true
    type: phandle-array
    description: PWM used to generate step signals for the stepper motor.

  dir-gpios:
    required: true
    type: phandle-array
    description: GPIO pins used to control direction of the stepper motor.

  en-gpios:
    required: true
    type: phandle-array
    description: GPIO pins used to enable/disable the stepper motor driver.